import { useFonts } from 'expo-font'
import React, { useState } from 'react'
import { Alert, StyleSheet, TextInput, View } from 'react-native'
import { TouchableOpacity } from 'react-native'
import { Svg, Path } from 'react-native-svg'

const PasswordFIeld = ({place_holder, place_holder_text_color, border_width, border_color, on_press}) => {
    const [secureTextEntry, setSecureTextEntry] = useState(true);

    const toggleSecureEntry = () => {
        setSecureTextEntry(!secureTextEntry);
    };

    const [fontsLoaded] = useFonts({
        PoppinsRegular: require('../../assets/fonts/PoppinsRegular.ttf'),
    });

    if (!fontsLoaded) {
        return (
            null
        )
    }

  return (
    <View  style={[PasswordFieldStyle.container, {borderWidth:border_width, borderColor: border_color} ]}>
        <TextInput 
            placeholder={place_holder} placeholderTextColor={place_holder_text_color} 
            secureTextEntry={secureTextEntry} style={{ fontFamily: "PoppinsRegular"}}
        />
        <TouchableOpacity onPress={toggleSecureEntry} style={{padding:10}}>
            <Svg width="20" height="11" viewBox="0 0 20 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                <Path d="M19.1438 6.81875C19.2343 6.97556 19.282 7.15346 19.2819 7.33454C19.2819 7.51561 19.2342 7.69349 19.1436 7.85028C19.053 8.00707 18.9227 8.13724 18.7659 8.22771C18.609 8.31817 18.4311 8.36574 18.25 8.36562C18.0685 8.36752 17.8899 8.32068 17.7327 8.22998C17.5754 8.13928 17.4455 8.00806 17.3563 7.85L15.9555 5.42656C15.1666 5.92024 14.3175 6.31017 13.4289 6.58671L13.8758 9.11328C13.9005 9.24654 13.8985 9.38339 13.8698 9.51586C13.8412 9.64834 13.7865 9.7738 13.7089 9.88495C13.6314 9.99609 13.5325 10.0907 13.418 10.1633C13.3036 10.2359 13.1758 10.285 13.0422 10.3078L12.8617 10.325C12.6197 10.3247 12.3856 10.2393 12.2002 10.0838C12.0148 9.92824 11.89 9.71247 11.8477 9.47421L11.4094 7.00781C10.942 7.06771 10.4712 7.09642 10 7.09375C9.52611 7.09185 9.0527 7.06315 8.58204 7.00781L8.14376 9.47421C8.10141 9.71247 7.97663 9.92824 7.79125 10.0838C7.60586 10.2393 7.37169 10.3247 7.1297 10.325L6.94923 10.3078C6.81562 10.285 6.68788 10.2359 6.57342 10.1633C6.45896 10.0907 6.36008 9.99609 6.28251 9.88495C6.20495 9.7738 6.15025 9.64834 6.12161 9.51586C6.09296 9.38339 6.09093 9.24654 6.11564 9.11328L6.56251 6.58671C5.6767 6.31011 4.83037 5.92016 4.04454 5.42656L2.63517 7.86718C2.54394 8.02347 2.41351 8.15324 2.25676 8.24367C2.10001 8.3341 1.92238 8.38206 1.74142 8.38281C1.5603 8.38425 1.38215 8.33675 1.22579 8.24531C1.10837 8.17765 1.00543 8.08751 0.922866 7.98004C0.840301 7.87258 0.779728 7.74989 0.74461 7.61899C0.709493 7.4881 0.700519 7.35157 0.718203 7.21721C0.735886 7.08284 0.77988 6.95328 0.847668 6.83593L2.38595 4.17187C1.86541 3.70945 1.38528 3.20345 0.950794 2.65937C0.855865 2.55568 0.783139 2.43368 0.737084 2.30085C0.691029 2.16803 0.672618 2.02719 0.682982 1.88699C0.693345 1.74679 0.732265 1.61019 0.797349 1.48558C0.862433 1.36097 0.952308 1.25099 1.06145 1.16238C1.17059 1.07378 1.2967 1.00842 1.43203 0.970333C1.56735 0.932245 1.70903 0.922227 1.84837 0.940896C1.98771 0.959564 2.12175 1.00652 2.24228 1.07889C2.3628 1.15126 2.46726 1.2475 2.54923 1.36171C3.90704 3.0375 6.29611 5.03125 10 5.03125C13.7039 5.03125 16.093 3.0375 17.4508 1.36171C17.5328 1.2475 17.6372 1.15126 17.7577 1.07889C17.8783 1.00652 18.0123 0.959564 18.1517 0.940896C18.291 0.922227 18.4327 0.932245 18.568 0.970333C18.7033 1.00842 18.8294 1.07378 18.9386 1.16238C19.0477 1.25099 19.1376 1.36097 19.2027 1.48558C19.2678 1.61019 19.3067 1.74679 19.317 1.88699C19.3274 2.02719 19.309 2.16803 19.2629 2.30085C19.2169 2.43368 19.1442 2.55568 19.0492 2.65937C18.6127 3.20436 18.1328 3.71306 17.6141 4.18046L19.1438 6.81875Z" fill="#A7A6A5"/>
            </Svg>
        </TouchableOpacity>

    </View>
  )
}

const PasswordFieldStyle = StyleSheet.create({
    container: {
        backgroundColor: "#e8eceb",
        borderRadius: 10, 
        height: 44,
        flexDirection: 'row',
        justifyContent: 'space-between',
        alignItems: 'center',
        paddingHorizontal:10,
        marginBottom: 20,
    }
})

export default PasswordFIeld