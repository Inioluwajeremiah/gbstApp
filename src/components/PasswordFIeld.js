import { useFonts } from 'expo-font'
import React, { useState } from 'react'
import { Alert, StyleSheet, TextInput, View } from 'react-native'
import { TouchableOpacity } from 'react-native'
import { Svg, Path } from 'react-native-svg'

const PasswordFIeld = ({place_holder, place_holder_text_color, border_width, border_color, onChangeText, on_press}) => {
    
    const [secureTextEntry, setSecureTextEntry] = useState(true);

    const toggleSecureEntry = () => {
        setSecureTextEntry(!secureTextEntry);
    };

    const [fontsLoaded] = useFonts({
        PoppinsRegular: require('../../assets/fonts/PoppinsRegular.ttf'),
    });

    if (!fontsLoaded) {
        return (
            null
        )
    }

  return (
    <TouchableOpacity  style={[PasswordFieldStyle.container, {borderWidth:border_width, borderColor: border_color} ]}>
        <TextInput 
            placeholder={place_holder} placeholderTextColor={place_holder_text_color} 
            secureTextEntry={secureTextEntry} style={{ fontFamily: "PoppinsRegular", width:"90%"}} onChangeText={onChangeText}
        />
        <TouchableOpacity onPress={toggleSecureEntry} style={{padding:10}}>
            {
                secureTextEntry ?
                    <Svg width="20" height="11" viewBox="0 0 20 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <Path d="M19.1438 6.81875C19.2343 6.97556 19.282 7.15346 19.2819 7.33454C19.2819 7.51561 19.2342 7.69349 19.1436 7.85028C19.053 8.00707 18.9227 8.13724 18.7659 8.22771C18.609 8.31817 18.4311 8.36574 18.25 8.36562C18.0685 8.36752 17.8899 8.32068 17.7327 8.22998C17.5754 8.13928 17.4455 8.00806 17.3563 7.85L15.9555 5.42656C15.1666 5.92024 14.3175 6.31017 13.4289 6.58671L13.8758 9.11328C13.9005 9.24654 13.8985 9.38339 13.8698 9.51586C13.8412 9.64834 13.7865 9.7738 13.7089 9.88495C13.6314 9.99609 13.5325 10.0907 13.418 10.1633C13.3036 10.2359 13.1758 10.285 13.0422 10.3078L12.8617 10.325C12.6197 10.3247 12.3856 10.2393 12.2002 10.0838C12.0148 9.92824 11.89 9.71247 11.8477 9.47421L11.4094 7.00781C10.942 7.06771 10.4712 7.09642 10 7.09375C9.52611 7.09185 9.0527 7.06315 8.58204 7.00781L8.14376 9.47421C8.10141 9.71247 7.97663 9.92824 7.79125 10.0838C7.60586 10.2393 7.37169 10.3247 7.1297 10.325L6.94923 10.3078C6.81562 10.285 6.68788 10.2359 6.57342 10.1633C6.45896 10.0907 6.36008 9.99609 6.28251 9.88495C6.20495 9.7738 6.15025 9.64834 6.12161 9.51586C6.09296 9.38339 6.09093 9.24654 6.11564 9.11328L6.56251 6.58671C5.6767 6.31011 4.83037 5.92016 4.04454 5.42656L2.63517 7.86718C2.54394 8.02347 2.41351 8.15324 2.25676 8.24367C2.10001 8.3341 1.92238 8.38206 1.74142 8.38281C1.5603 8.38425 1.38215 8.33675 1.22579 8.24531C1.10837 8.17765 1.00543 8.08751 0.922866 7.98004C0.840301 7.87258 0.779728 7.74989 0.74461 7.61899C0.709493 7.4881 0.700519 7.35157 0.718203 7.21721C0.735886 7.08284 0.77988 6.95328 0.847668 6.83593L2.38595 4.17187C1.86541 3.70945 1.38528 3.20345 0.950794 2.65937C0.855865 2.55568 0.783139 2.43368 0.737084 2.30085C0.691029 2.16803 0.672618 2.02719 0.682982 1.88699C0.693345 1.74679 0.732265 1.61019 0.797349 1.48558C0.862433 1.36097 0.952308 1.25099 1.06145 1.16238C1.17059 1.07378 1.2967 1.00842 1.43203 0.970333C1.56735 0.932245 1.70903 0.922227 1.84837 0.940896C1.98771 0.959564 2.12175 1.00652 2.24228 1.07889C2.3628 1.15126 2.46726 1.2475 2.54923 1.36171C3.90704 3.0375 6.29611 5.03125 10 5.03125C13.7039 5.03125 16.093 3.0375 17.4508 1.36171C17.5328 1.2475 17.6372 1.15126 17.7577 1.07889C17.8783 1.00652 18.0123 0.959564 18.1517 0.940896C18.291 0.922227 18.4327 0.932245 18.568 0.970333C18.7033 1.00842 18.8294 1.07378 18.9386 1.16238C19.0477 1.25099 19.1376 1.36097 19.2027 1.48558C19.2678 1.61019 19.3067 1.74679 19.317 1.88699C19.3274 2.02719 19.309 2.16803 19.2629 2.30085C19.2169 2.43368 19.1442 2.55568 19.0492 2.65937C18.6127 3.20436 18.1328 3.71306 17.6141 4.18046L19.1438 6.81875Z" fill="#A7A6A5"/>
                    </Svg>
                :
                    <Svg width="20" height="14" viewBox="0 0 20 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <Path d="M19.6094 6.61719C19.0412 5.47119 18.2891 4.42608 17.3828 3.52344C15.3594 1.50781 12.8125 0.4375 10 0.4375C7.1875 0.4375 4.64063 1.50781 2.61719 3.52344C1.71092 4.42608 0.958762 5.47119 0.390627 6.61719C0.340337 6.73855 0.314453 6.86863 0.314453 7C0.314453 7.13137 0.340337 7.26145 0.390627 7.38281C0.958762 8.52881 1.71092 9.57392 2.61719 10.4766C4.64063 12.4922 7.1875 13.5625 10 13.5625C12.8125 13.5625 15.3594 12.4922 17.3828 10.4766C18.2891 9.57392 19.0412 8.52881 19.6094 7.38281C19.6597 7.26145 19.6856 7.13137 19.6856 7C19.6856 6.86863 19.6597 6.73855 19.6094 6.61719ZM16.0078 9.19531C14.3359 10.8516 12.3125 11.6875 10 11.6875C7.6875 11.6875 5.66406 10.8516 3.99219 9.19531C3.33313 8.54311 2.76547 7.80462 2.30469 7C2.76342 6.19402 3.33129 5.45527 3.99219 4.80469C5.66406 3.14844 7.6875 2.3125 10 2.3125C12.3125 2.3125 14.3359 3.14844 16.0078 4.80469C16.6669 5.45689 17.2345 6.19538 17.6953 7C17.2345 7.80462 16.6669 8.54311 16.0078 9.19531ZM10 3.5625C9.32013 3.5625 8.65552 3.76411 8.09023 4.14182C7.52494 4.51954 7.08434 5.0564 6.82417 5.68453C6.56399 6.31265 6.49592 7.00381 6.62855 7.67062C6.76119 8.33743 7.08858 8.94994 7.56932 9.43068C8.05007 9.91142 8.66257 10.2388 9.32938 10.3714C9.99619 10.5041 10.6874 10.436 11.3155 10.1758C11.9436 9.91566 12.4805 9.47507 12.8582 8.90977C13.2359 8.34448 13.4375 7.67987 13.4375 7C13.4375 6.08832 13.0753 5.21398 12.4307 4.56932C11.786 3.92466 10.9117 3.5625 10 3.5625ZM10 8.5625C9.69097 8.5625 9.38888 8.47086 9.13192 8.29917C8.87497 8.12748 8.6747 7.88345 8.55644 7.59794C8.43818 7.31243 8.40724 6.99827 8.46753 6.69517C8.52781 6.39208 8.67663 6.11367 8.89515 5.89515C9.11367 5.67663 9.39208 5.52781 9.69517 5.46752C9.99827 5.40723 10.3124 5.43818 10.5979 5.55644C10.8835 5.6747 11.1275 5.87497 11.2992 6.13192C11.4709 6.38887 11.5625 6.69097 11.5625 7C11.5604 7.41377 11.3952 7.81 11.1026 8.10259C10.81 8.39517 10.4138 8.56045 10 8.5625Z" fill="#1C1F1E"/>
                    </Svg>                
            }
            
           
        </TouchableOpacity>

    </TouchableOpacity>
  )
}

const PasswordFieldStyle = StyleSheet.create({
    container: {
        backgroundColor: "#e8eceb",
        borderRadius: 10, 
        height: 44,
        flexDirection: 'row',
        justifyContent: 'space-between',
        alignItems: 'center',
        paddingHorizontal:10,
        marginBottom: 20,
    }
})

export default PasswordFIeld